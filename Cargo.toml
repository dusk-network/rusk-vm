[package]
name = "rusk-vm"
version = "0.5.1"
authors = [
  "Kristoffer Str√∂m <kristoffer@dusk.network>",
  "zer0 <matteo@dusk.network>"
]
edition = "2018"

[dependencies]
wasmi = "0.7"
wasmi-validation = "0.3"
parity-wasm = "0.41"
pwasm-utils = "0.16"
failure = "0.1"

dusk-abi = "0.7"
canonical = { version = "0.5", features = ["host"] }
canonical_host = "0.5"
canonical_derive = "0.5"
dusk-kelvin-map = "0.3"

[dev-dependencies]
dusk-bls12_381 = "0.6"
dusk-bytes = "0.1"

# test contracts
counter = { path = "tests/contracts/counter", features = ["host"] }
counter_float = { path = "tests/contracts/counter_float", features = ["host"] }
fibonacci = { path = "tests/contracts/fibonacci", features = ["host"] }
delegator = { path = "tests/contracts/delegator", features = ["host"] }
gas_consumed = { path = "tests/contracts/gas_consumed", features = ["host"] }
stack = { path = "tests/contracts/stack", features = ["host"] }
block_height = { path = "tests/contracts/block_height", features = ["host"] }
self_snapshot = { path = "tests/contracts/self_snapshot", features = ["host"] }
host_fn = { path = "tests/contracts/host_fn", features = ["host"] }
tx_vec = { path = "tests/contracts/tx_vec", features = ["host"] }
dusk-poseidon = "0.18"

[[bench]]
name = "factorial"
harness = false

[workspace]

members = [
    "tests/contracts/*",
]

[patch.crates-io]
dusk-abi = {git = "https://github.com/dusk-network/dusk-abi", branch = "gas_metering"}
